{namespace mp=AawTeam\Minipoll\ViewHelpers}

<div class="tx_minipoll-results">
    <f:render partial="Poll/Title" arguments="{_all}" />
    <f:render partial="Poll/Description" arguments="{_all}" />

    <mp:poll.results poll="{poll}">
        <f:render partial="Poll/Results/{resultRendererName}" arguments="{_all}" />
    </mp:poll.results>

    <div class="tx_minipoll-footer">
        <div class="tx_minipoll-footer-text">
            <f:translate key="text.result.totalvotes" arguments="{0:'{mp:format.voteCount(poll:poll,useLabel:\'1\')}'}" />
            <f:if condition="{poll.allowMultiple}">
                (<f:translate key="text.participations" />: <f:format.number decimals="0" thousandsSeparator="'"><f:count subject="{poll.participations}"/></f:format.number>)
            </f:if>
        </div>

        <mp:ifCanVote poll="{poll}">
            <f:link.action action="detail" arguments="{poll:poll.uid}" additionalParams="{additionalGetParams}" class="tx_minipoll-button">
                <f:translate key="link.action.detail" />
            </f:link.action>
        </mp:ifCanVote>
    </div>
</div>
